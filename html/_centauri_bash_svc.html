<!DOCTYPE html>
<html><head><meta charset='UTF-8'></meta>
<title>centaurihelp ─ _centauri_bash_svc</title>
<link rel='stylesheet' type='text/css' href='default.css'></link>
<script type='text/javascript' src='default.js'></script>
</head><body><article id='top'>
<nav><div class='nav-row'>
<div class='nav-left'><a href='_centauri_bash_run.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='content.html#top'>[Content]</a></div>
<div class='nav-mid'><a href='reference.html#top'>[Reference]</a></div>
<div class='nav-right'><a href='_centauri_bash_sys.html'>[next &gt;&gt;]</a></div>
</div></nav>
<section id='section-1'>
<div id='_centauri_bash_svc' class='item-module'>
<span>Module</span><span> - </span><span>_centauri_bash_svc</span><span> - </span><span><a href="index.html">Centauri Bash Library</a> service/syslog Support</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>. <b>_centauri_bash_svc</b> [<b>-n</b>|<b>-s</b>]</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-n</b>      disable service initialization, no service verbs or options
<b>-i</b>      force automatic service initialization (this option is set
        when loading _centauri_bash_lib with option <b>-v</b> (service)</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This module can make the user script a daemon, SysV service or systemd service.  But it also contains a couple of functions that can be used without being a service (module load option <b>-n</b> can be used to disable service functions on load):</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  • <a href="#background">background</a>  run a script in background (like <b>nohup</b>))
  • <a href="#pidfile">pidfile</a>     manage PID files
  • <a href="#runservice">runservice</a>  start/stop services, get service status</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The module also adds <b>syslog</b> support and the <b>--syslog</b> option unless disabled via option <b>-n</b>. All _centauri_bash_lib output, except <a href="_centauri_bash_lib.html#trace">trace()</a>, can be sent to <b>syslog</b>.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The function to initialize/check the service state is <a href="#isservice">isservice()</a>. This function also initializes <b>syslog</b> output. If the module is not loaded with option <b>-i</b> (or _centauri_bash_lib with option <b>-v</b>), the script must call <a href="#isservice">isservice()</a> explicitly to become a service.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The user script is made a service when the module was not loaded with option <b>-n</b> and if one of the following conditions is met:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  • <b>CEN_SVC_SHORT</b>                     is set
  • a systemd <b>CEN_SVC_</b>xxx variable    is set
  • <b>actionStart</b> | <b>actionStop</b>          is defined</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>More documentation can be found in module <a href="_centauri_bash_ins.html">_centauri_bash_ins</a>:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  • <a href="_centauri_bash_ins.html#serviceanddaemon">Service and Daemon</a> - How Services and Daemons are supported
  • <a href="_centauri_bash_ins.html#servicetypes">Service Types</a>      - Supported Service Types
  • <a href="_centauri_bash_ins.html#serviceconfig">Service Config</a>     - Writing a Service (LSB-Header, Config Variables)
  • <a href="_centauri_bash_ins.html#servicesetup">Service Setup</a>      - Installing a Service
  • <a href="_centauri_bash_ins.html#systemdconfig">Systemd Config</a>     - Overriding the Configuration of systemd Services</div>
</div>
<div class='def-row'>
<div class='def-label'>Variables:</div>
<div class='def-text'><b>CEN_SVC_SHORT</b>    should be set to a very short description ot the
                 service (default is <b>CEN_TITLE</b>)
<b>CEN_SVC_</b>xxx      <b>systemd</b> related variables, see below
<b>CEN_OPT_SYSLOG</b>   controls where the output goes:
                 <b>0</b>: no output,  <b>1</b>: stderr and syslog,  <b>2</b>: syslog only</div>
</div>
<div class='def-row'>
<div class='def-label'>SysV-init:</div>
<div class='def-block'>Must have an <b>lsb-header</b>. <b>SysV</b> services will always be enabled by <b>systemd</b> unless they have a vendor preset file or are removed from <b>&quot;/etc/init.d&quot;</b>. At setup time no service unit is created.</div>
</div>
<div class='def-row'>
<div class='def-label'>systemd:</div>
<div class='def-block'>If the user script has no <b>lsb-header</b> or one of the following variables is set, a <b>systemd</b> service unit is created at setup time by default:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>CEN_SVC_AFTER</b>       service ordering via <b>After=</b> directive
                    (default is networking services/targets)
<b>CEN_SVC_WANTED_BY</b>   list of targets for a <b>WantedBy=</b> directive
                    (default: <b>&quot;multi-user.target&quot;</b>)
<b>CEN_SVC_WANTS</b>       service dependency via <b>Wants=</b> directive, also
                    added to default <b>After=</b> directive
<b>CEN_SVC_TYPE</b>        generates a <b>Type=</b> directive, the value can be
                    <b>&quot;once|oneshot|simple|daemon|auto&quot;</b> (default: <b>&quot;simple&quot;</b>)
<b>CEN_SVC_PRESET</b>      generates a preset file to control whether the
                    service is enabled by default. The value can be
                    <b>&quot;enable&quot;</b> or <b>&quot;disable&quot;</b> (default: <b>&quot;enable&quot;</b>)</div>
</div>
<div class='def-row'>
<div class='def-label'>Daemon:</div>
<div class='def-block'>The script can implement a daemon (that cannot use the &apos;setup&apos; command) by setting <b>CEN_SVC_TYPE</b>=<b>&quot;daemon&quot;</b> .</div>
</div>
<div class='def-row'>
<div class='def-label'>Template:</div>
<div class='def-block'>The <b>centauriService</b> and <b>centauriDaemon</b> templates are good starting points for writing a service or a daemon script.</div>
</div>
<div class='def-row'>
<div class='def-label'>Actions:</div>
<div class='def-block'>Default implementations for service actions <b>start stop restart</b> and <b>status</b> are provided. There is also a default <b>setup</b> action.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>A user script can reimplement <b>status</b> (the default does nothing) and <b>setup</b>. The default <b>setup</b> installs and enables the service. When <b>setup</b> is reimplemented, the default will be run after return only if <b>CEN_ARGS</b> is non-empty.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>When the <b>setup</b> action is invoked, the user script is scanned for an <b>lsb-header</b>. If present it will be made a SysV service, otherwise a <b>systemd</b> unit will be generated.</div>
</div>
<div class='def-row'>
<div class='def-label'>Running:</div>
<div class='def-block'>The sevice will usually perform it&apos;s work in the <b>start</b> action. On return from <b>start</b> the service will terminate (unless a background thread was started).</div>
</div>
<div class='def-row'>
<div class='def-label'>Stopping:</div>
<div class='def-block'>When the service is stopped via SysV or systemd, the <b>stop</b> action will run. The default implementation of <b>stop</b> will forward a <b>TERM</b> signal to the service process. The code running in the <b>start</b> action should stop after receiving <b>TERM</b>.</div>
</div>
<div class='def-row'>
<div class='def-label'>Example:</div>
<div class='def-text'>Providing a custom setup function<pre>setup() {
    if [ <b>&quot;$1&quot;</b> != <b>&quot;install&quot;</b> ] ; then
        :                       # ignore this call
    elif [ <b>&quot;$1&quot;</b> != <b>&quot;status&quot;</b> ] ; then
        message <b>&quot;Service type is: ${CEN_SVC_TYPE:--SysV}&quot;</b>
    elif [ <b>-z</b> <b>&quot;$CEN_SVC_TYPE&quot;</b> ] ; then
        warning <b>&quot;Installing a SysV service&quot;</b>
    else
        my_service_unit         # will not be overridden

        [ <b>&quot;$CEN_SVC_PRESET&quot;</b> = <b>&quot;disable&quot;</b> ] &amp;&amp;
            warning <b>&quot;Service must be enabled manually&quot;</b>
    fi
    <b>CEN_ARGS</b>=1                  # continue with default setup
}</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>Invoking the setup function of <b>&quot;myservice&quot;</b><pre>myservice setup install
myservice setup status
myservice setup uninstall</pre></div>
</div>
<div class='def-row'>
<div class='def-label'>Remark:</div>
<div class='def-block'>Copyright Dr. J. Pfennig (c) 2015-2022</div>
</div>
</section>
<section id='section-2'>
<div id='progressservice' class='item-function'>
<span>Function</span><span> - </span><span>progress (service)</span><span> - </span><span>Legacy SysV fancy progress reporting</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>progress <i>text</i>...</div>
</div>
<div class='def-row'>
<div class='def-label'>Remark:</div>
<div class='def-block'>Legacy, does not make sense with a <b>systemd</b> service. The <i>text</i> arguments are joined into a string that is passed to the <b>log_progress_msg()</b> function, see <b>/lib/lsb/init-functions</b>.</div>
</div>
</section>
<section id='section-3'>
<div id='background' class='item-function'>
<span>Function</span><span> - </span><span>background</span><span> - </span><span>Run a script in background, redirect input/output</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'><b>background</b> [<b>-m</b> <i>suff</i>] [<b>-n</b>] [<b>-o</b> <i>file</i>|<b>-s</b>] <i>script</i> <i>arg</i>...</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-m</b>  move non-empty output-file (overrides previous backup)
<b>-n</b>  don&apos;t <b>background</b>, just redirect input/output
<b>-i</b>  input from file (redirects <b>stdin</b>)
<b>-o</b>  output to file (redirects <b>stdout</b> and <b>stderr</b>)
<b>-s</b>  output to <b>syslog</b> (via <a href="_centauri_bash_lib.html#message">message()</a> et al)</div>
</div>
<div class='def-row'>
<div class='def-label'>variable:</div>
<div class='def-text'><b>CEN_BACKGROUND</b>  PID of the <b>background</b> process</div>
</div>
<div class='def-row'>
<div class='def-label'>Warning:</div>
<div class='def-block'>If this function is used by a systemd service, it will not prevent systemd from terminating the <b>background</b> thread when the service <b>cgroup</b> is closed.</div>
</div>
<div class='def-row'>
<div class='def-label'>Example:</div>
<div class='def-text'><pre>run_bgnd() {                            # list environment
    local larr=()
    system <b>-a</b> larr <b>--</b> env
    splitjoin <b>-x</b> message <b>-i</b> larr
}

embed <b>-m</b> <b>&quot;_centauri_bash_svc&quot;</b>           # if needed

<b>background</b> run_bgnd                     # no output
<b>background</b> <b>-s</b> run_bgnd                  # to syslog
<b>background</b> <b>-o</b> <b>&quot;$CEN_NAME.log&quot;</b> run_bgnd  # to file
<b>background</b> <b>-n</b> <b>-o</b> x.log <b>-m</b> old run_bgng  # logfile only</pre></div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>Uses in/out redirection and bash&apos;s <b>disown</b> command. In contrast to <b>/usr/bin/nohup</b> this function does not start a new shell. This allows to run a subroutine of a script in <b>background</b>.  The <b>background</b> thread will not terminate when the caller exits.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The function is in module <a href="_centauri_bash_svc.html">_centauri_bash_svc</a> because it optionally uses <b>syslog</b> output. This will cause a conflict with the <a href="_centauri_bash_con.html">_centauri_bash_con</a> or the <a href="_centauri_bash_win.html">_centauri_bash_win</a> module.</div>
</div>
</section>
<section id='section-4'>
<div id='inhibit' class='item-function'>
<span>Function</span><span> - </span><span>inhibit</span><span> - </span><span>Disable start/stop/restart of the service</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'><b>inhibit</b> <i>message</i></div>
</div>
<div class='def-row'>
<div class='def-label'>Arguments:</div>
<div class='def-text'><i>message</i>  output on attemps to start/stop or restart a disabled
         service. Must not be empty.</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>The function can be placed in a service script before the <a href="_centauri_bash_lib.html#main">main()</a> routine. When a file named <b>&quot;$CEN_ROOT/transient/$CEN_NAME-disable&quot;</b> exists the call will disable the service.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The call only sets a flag, it is <a href="#isservice">isservice()</a> that decides on init whether to start the service or not. The command line option <b>--force</b> can be used to override the disabled state.</div>
</div>
</section>
<section id='section-5'>
<div id='pidfile' class='item-function'>
<span>Function</span><span> - </span><span>pidfile</span><span> - </span><span>create/delete PID file, check status, terminate process</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'><b>pidfile</b> [<b>-c</b>|<b>-d</b>|<b>-n</b>] [[<i>path</i>/]<i>name</i>]
<b>pidfile</b> [<b>-d</b>] <b>-s</b> <i>signal</i> [[<i>path</i>/]<i>name</i>]
<b>pidfile</b> <b>-w</b> <i>pid</i>|- [[<i>path</i>/]<i>name</i>]</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-c</b>  check if saved PID is still running
<b>-d</b>  delete the PID file
<b>-n</b>  get PID file name and return
<b>-r</b>  use extension .run instead of .pid
<b>-s</b>  send a signal to the saved PID
<b>-w</b>  create a PID file</div>
</div>
<div class='def-row'>
<div class='def-label'>Arguments:</div>
<div class='def-text'><i>name</i>    PID file name (default is $<b>CEN_NAME</b>)
<i>path</i>    path starting with <b>&quot;/&quot;</b>, enables validation
<i>pid</i>     PID of main process or <b>&quot;0&quot;</b> for oneshot
<i>signal</i>  signal to be sent (default is SIGTERM)</div>
</div>
<div class='def-row'>
<div class='def-label'>Files:</div>
<div class='def-text'>$<b>CEN_ROOT</b>/transient/<i>prog</i>.pid    # the default PID file
/run/<i>prog</i>.pid                   # used if needed
$TMP/<i>prog</i>.pid                   # used if needed</div>
</div>
<div class='def-row'>
<div class='def-label'>Return:</div>
<div class='def-text'><b>true</b> on success or <b>false</b> on error or failed test.
On success <b>CEN_PIDFILE</b> is set to a PID file path.</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This function implements the standard PID file actions and is used to implement service state handling. The function itself does not register any hook to catch signals or to remove the <b>pidfile</b>.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Using a full path as argument enables a validation against the process name.</div>
</div>
</section>
<section id='section-6'>
<div id='isservice' class='item-function'>
<span>Function</span><span> - </span><span>isservice</span><span> - </span><span>check if we run as service and initialize syslog output</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'><b>isservice</b> [<b>-r</b>] [<b>-i</b>|<b>-n</b>] [<b>-s</b> &lt;0|1|2&gt;] [<b>-l</b> <i>text</i>...]</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-i</b>  initialize explicitly
<b>-l</b>  log message to syslog
<b>-n</b>  do not init, just check service conditions
<b>-r</b>  check if caller is <b>root</b>
<b>-s</b>  override <b>CEN_OPT_SYSLOG</b> (no checks made)</div>
</div>
<div class='def-row'>
<div class='def-label'>Return:</div>
<div class='def-text'><b>true</b> if we run as a service or daemon, otherwise <b>false</b></div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>The function also starts SysV (fancy) progress reporting and/or syslog output. It gets called internally unless disabled at module load time.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The <a href="_centauri_bash_svc.html">_centauri_bash_svc</a> module supports three ways to run scripts as a service or daemon:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>
1) a systemd service (via systemctl start|stop)
2) a SysV service (via /etc/init.d/&lt;script&gt; start|stop)
3) daemon without installation (/&lt;path&gt;/&lt;script&gt; start|stop)</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>A PID file and a RUN file are used to interlock methods 1/2 and 3. A service started with systemd will not allow manual stop|stop and vice versa. Scripts that have <b>CEN_SVC_TYPE=daemon</b> cannot be installed via systemd or SysV and must be started|stopped manually (but behave otherwise like services).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>If <b>CEN_OPT_DAEMON</b> is empty the following rules apply:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>
1) set <b>CEN_OPT_DAEMON</b>=1 if the script is linked to /etc/init.d
2) set <b>CEN_OPT_DAEMON</b>=1 if systemd is not the init system
3) set <b>CEN_OPT_DAEMON</b>=1 if the script is started from a tty
4) set <b>CEN_OPT_DAEMON</b>=0 otherwise.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>If <b>CEN_OPT_SYSLOG</b> is empty and <b>CEN_OPT_DAEMON</b> is 0 or 1, <b>CEN_OPT_SYSLOG</b> is set accordingly (2 or 0).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>It is the purpose of <b>CEN_OPT_DAEMON</b> to flag that a script was not started by systemd (in this case the value is 0) but is to be daemonized (value is 1).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>If systemd is not installed or for <b>CEN_OPT_DAEMON</b>=1 the following applies:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>
1) For <b>CEN_SVC_TYPE</b>=simple create PID file and daemonize
2) otherwise create PID file</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>for <b>CEN_OPT_DAEMON</b>=1 (the RUN file can block start/stop via systemd):</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>
1) For <b>CEN_SVC_TYPE</b>=simple create PID file and RUN file and daemonize
2) otherwise create PID file and RUN file</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>for <b>CEN_OPT_DAEMON</b>=0 (PID file without RUN file blocks builtin start/stop):</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>
1) For <b>CEN_SVC_TYPE</b>=simple create PID file (systemd daemonizes the script)
2) otherwise create PID file</div>
</div>
</section>
<section id='section-7'>
<div id='runservice' class='item-function'>
<span>Function</span><span> - </span><span>runservice</span><span> - </span><span>start/stop/test services</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'><b>runservice</b> [<b>-d</b>] [<b>-r</b>] [<b>-u</b>] [<b>-e</b>|<b>-f</b>] [<b>-v</b>] <i>verb</i> <i>name</i>...
<b>runservice</b> [<b>-d</b>] [<b>-r</b>] [<b>-u</b>] [<b>-e</b>|<b>-f</b>] [<b>-v</b>] <i>name</i> <i>verb</i>        # deprecated</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>runservice</b> [<b>-d</b>] [<b>-u</b>] [<b>-e</b>|<b>-f</b>] [<b>-v</b>] <i>name</i>                  # deprecated
<b>runservice</b> [<b>-d</b>] [<b>-u</b>] [<b>-e</b>|<b>-f</b>] [<b>-v</b>] <b>test</b> <i>name</i>...</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>runservice</b> [<b>-r</b>] [<b>-u</b>] [<b>-e</b>|<b>-f</b>] [<b>-v</b>] <b>status</b> <i>name</i></div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-d</b>  run as a daemon, needs no root priviledge or service install
<b>-e</b>  report errors
<b>-f</b>  make errors fatal
<b>-r</b>  ignore dryrun
<b>-s</b>  silent mode, don&apos;t report invalid services or no find
<b>-u</b>  use systemd user instance (error if not running systemd)
<b>-v</b>  verbose, report status (implies <b>-e</b>)</div>
</div>
<div class='def-row'>
<div class='def-label'>Arguments:</div>
<div class='def-text'><i>verb</i>  <b>start</b>|<b>stop</b>|<b>restart</b>
<i>name</i>  A plain service name (<b>NOT</b> a path or unit.name)</div>
</div>
<div class='def-row'>
<div class='def-label'>Return:</div>
<div class='def-block'>The <b>test</b> command returns <b>true</b> if all service are found and not masked. On error a status bit mask is returned, see below.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The <b>status</b> command returns <b>true</b> if the service is active. On error a status bit mask is returned, see below.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>All other verbs return <b>true</b> on success or a status bit mask otherwise, see below.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>For existing and unmasked service(s) <b>CEN_RUNSERVICE</b> is set to localized description depending on the command verb (but not for <b>test</b>).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>Status bits:    64  no valid service to found
                 4  got start/stop error or not active
                 2  got masked service
                 1  got invalid service</div>
</div>
<div class='def-row'>
<div class='def-label'>Variable:</div>
<div class='def-text'><b>CEN_RUNSERVICE</b>  <b>&quot;[failed]&quot;</b>  operation failed (translated)
                <b>&quot;started&quot;</b>   (text translated)
                <b>&quot;stopped&quot;</b>   (text translated)
                <b>&quot;restarted&quot;</b> (text translated)</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This method only searches the following subset of <b>systemd</b> paths:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>
<b>&quot;/etc/systemd/*&quot;</b>               (no <b>-u</b> option) ...
<b>&quot;/run/systemd/*&quot;</b>
<b>&quot;/lib/systemd/*&quot;</b>
<b>&quot;/usr/lib/systemd/*&quot;</b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>
<b>&quot;~/.config/systemd/user&quot;</b>       (option <b>-u</b> only) ...
<b>&quot;~/.local/share/systemd/user&quot;</b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><b>SysV</b> services are searched in <b>&quot;/etc/init.d&quot;</b> only.</div>
</div>
<div class='def-row'>
<div class='def-label'>Examples:</div>
<div class='def-text'><pre><b>runservice</b> [test] inetd     # test if inetd is installed and not masked
<b>runservice</b> stop inetd nmbd  # stop inetd and nmbd
<b>runservice</b> <b>-d</b> start dscipt  # start &apos;dscript&apos; as daemon</pre></div>
</div>
</section>
</article>
<div class='def-break'></div>
<nav><div class='nav-row'>
<div class='nav-left'><a href='_centauri_bash_run.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='#top'>[Top of Page]</a></div>
<div class='nav-mid'><a href='reference.html#top'>[Reference]</a></div>
<div class='nav-right'><a href='_centauri_bash_sys.html'>[next &gt;&gt;]</a></div>
</div></nav>
</body></html>
