<!DOCTYPE html>
<html><head><meta charset='UTF-8'></meta>
<title>centaurihelp ─ _centauri_bash_win</title>
<link rel='stylesheet' type='text/css' href='default.css'></link>
<script type='text/javascript' src='default.js'></script>
</head><body><article id='top'>
<nav><div class='nav-row'>
<div class='nav-left'><a href='_centauri_bash_web.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='content.html#top'>[Content]</a></div>
<div class='nav-mid'><a href='reference.html#top'>[Reference]</a></div>
<div class='nav-right'><a href='_centauri_bash_xml.html'>[next &gt;&gt;]</a></div>
</div></nav>
<section id='section-1'>
<div id='_centauri_bash_win' class='item-module'>
<span>Module</span><span> - </span><span>_centauri_bash_win</span><span> - </span><span><a href="index.html">Centauri Bash Library</a> GUI Windowing Support</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>. <b>_centauri_bash_win</b></div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-n</b>  no initialization at all
<b>-s</b>  minimal mode, no GUI windows for message(), confirm() etc</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This module adds the <b>--windows</b> command line option to a script.  It can be explicitly loaded or by using the <b>--gui</b> option (see <b>_centauri_bash_lib -g</b>).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Trying to load <b>_centauri_bash_win</b> at the same time as <b>_centauri_bash_con</b> causes a conflict and raises a fatal error.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Windowing support is quite limited: message boxes, input/output dialogs, a progress bar, console windows and browser are supported. Mostly via KDE tools, namely <b>kdialog</b> (currently <b>zenity</b> is not supported).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The module can redirect <a href="_centauri_bash_lib.html#message">message()</a>,  <a href="_centauri_bash_lib.html#error">error()</a>, <a href="_centauri_bash_lib.html#warning">warning()</a> and <a href="_centauri_bash_lib.html#confirm">confirm()</a> to GUI dialog windows. Using the output functions with <b>&quot;-d +3&quot;</b> will create a popup notification with a timeout of 3 seconds. The following examples work in windows and in console mode:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>[ <b>&quot;$1&quot;</b> = <b>&quot;42&quot;</b> ] || quit <b>&quot;This is not the answer&quot;</b>
message <b>-d</b> bold <b>&quot;Now, what was the question?&quot;</b></pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>confirm <b>-a</b> <b>-d</b> <b>&quot;$USER&quot;</b> <b>-p</b> <b>&quot; [default: $USER] &gt; &quot;</b> <b>-u</b> \
        <b>&quot;Please enter your name&quot;</b> || quit
message <b>-d</b> +3 <b>&quot;Hello&quot;</b> <b>&quot;$CEN_CONFIRM&quot;</b></pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>In GUI mode the <b>-d</b> option of <a href="_centauri_bash_lib.html#message">message()</a> has the following extra functionality:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  <b>-d</b> ?        # show cancel button in message box dialog
  <b>-d</b> -        # force a text message, don&apos;t display a message box
  <b>-d</b> +<i>time</i>    # show notification popup window for &lt;time&gt; seconds</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Copyright Dr. J. Pfennig (c) 2015-2022</div>
</div>
</section>
<section id='section-2'>
<div id='windows' class='item-function'>
<span>Function</span><span> - </span><span>windows</span><span> - </span><span>init/check GUI mode, launch GUI application</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'><b>windows</b> [<b>-g</b> <i>gui</i>] [<b>-i</b> <i>mode</i>] [<b>-m</b>]            # init GUI mode
<b>windows</b> [<b>-c</b> <i>feature</i>|<b>-</b>] [<b>-e</b>]                # test for GUI/feature
<b>windows</b> [<b>-t</b> <i>title</i>] <b>-l</b>|<b>-w</b> <i>app</i> <i>args</i>...       # launch application</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-c</b>  check for a GUI feature
<b>-e</b>  error message if init to GUI is not possible
<b>-g</b>  set GUI to be used (default is <b>&quot;kde&quot;</b>)
<b>-i</b>  initialize GUI mode if possible
<b>-l</b>  launch GUI application in background
<b>-m</b>  minimal, don&apos;t use GUI for <a href="_centauri_bash_lib.html#message">message()</a>, <a href="_centauri_bash_lib.html#confirm">confirm()</a> etc
<b>-t</b>  set application title (with <b>-l</b> or <b>-w</b>)
<b>-w</b>  launch GUI application and wait for termination</div>
</div>
<div class='def-row'>
<div class='def-label'>Arguments:</div>
<div class='def-text'><i>mode</i>      <b>0</b>=disable GUI mode   <b>1</b>=enable GUI mode   <b>2</b>=auto (default)
<i>gui</i>       <b>-</b> do not use GUI  <b>+</b> use any  -or- supported GUI name
<i>title</i>     Window title for a launched application
<i>app</i>       path or name or generic name <b>&quot;browser&quot;</b> <b>&quot;editor&quot;</b> <b>&quot;console&quot;</b>
<i>feature</i>   GUI feature, see below. Use - to check for full support</div>
</div>
<div class='def-row'>
<div class='def-label'>Support:</div>
<div class='def-block'>Currently only <b>kde</b> is fully supported (<b>kdialog</b> must be installed). Using <b>-g -</b> or <b>-g +</b> will not check the GUI, e.g. if <b>kdialog</b> is missing no error is raised. While <b>-g -</b> unconditionally disables GUI support for <a href="_centauri_bash_lib.html#message">message()</a> and <a href="_centauri_bash_lib.html#confirm">confirm()</a>, <b>-g +</b> will enable GUI support if possible.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Even without GUI support GUI applications can be launched, see <b>-l</b> and <b>-w</b>. When a generic name is used, command and default options depend on the installed GUI and version.</div>
</div>
<div class='def-row'>
<div class='def-label'>Feature:</div>
<div class='def-block'>The following features are required by message functions:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  • msgbox sorry error passivepopup</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>The <a href="_centauri_bash_lib.html#confirm">confirm()</a> function additionally needs:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  • inputbox password yesno yesnocancel</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>Finall <a href="_centauri_bash_pro.html#progress">progress()</a> depends on:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  • progressbar</div>
</div>
<div class='def-row'>
<div class='def-label'>Examples:</div>
<div class='def-text'><pre># <b>windows</b> mode is implicitly initialized on 1st output call
message <b>&quot;This is a GUI message (for --windows=1)&quot;</b>
<b>windows</b> <b>-e</b> <b>-i</b> 1 || return
message <b>&quot;This is a GUI message&quot;</b>
<b>windows</b> <b>-i</b> 0
message <b>&quot;This is text only&quot;</b></pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre># use win module without any hook, just run a gui application
embed <b>-m</b> _centauri_bash_win <b>-n</b>
<b>windows</b> <b>-e</b> <b>-m</b> <b>-l</b> <b>--</b> kcalc</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre># disable message/confirm hooks (before 1st output)
<b>windows</b> <b>-m</b> || message <b>&quot;Cannot run GUI apps&quot;</b></pre></div>
</div>
</section>
<section id='section-3'>
<div id='windialog' class='item-function'>
<span>Function</span><span> - </span><span>windialog</span><span> - </span><span>show a GUI message box or dialog window</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'><b>windialog</b> [<b>-e</b>|<b>-f</b>|<b>-w</b>] [<b>-r</b>]
          [<b>-t</b> <i>title</i>] <i>header</i> <i>msg</i>...          # message box
<b>windialog</b> [<b>-2</b>|<b>-3</b> <i>label</i>|<b>-</b>] [<b>-r</b>]
          [<b>-t</b> <i>title</i>] <i>header</i> <i>msg</i>...          # yes|no|cancel box
<b>windialog</b> [<b>-i</b>|<b>-l</b>|<b>-p</b> <i>var</i>] [<b>-r</b>]
          [<b>-t</b> <i>title</i>] <i>header</i> <i>msg</i>...          # input|password|progress
<b>windialog</b> <b>-u</b> <i>time</i>|<b>-</b> [<b>-n</b> <i>icon</i>] [<b>-r</b>]
          [<b>-t</b> <i>title</i>] <i>header</i> <i>msg</i>...          # popup notification
<b>windialog</b> <b>-k</b> <i>kind</i> [<b>-i</b> <i>var</i>]
          [<b>-t</b> <i>title</i>] <i>arg</i>...                 # low level kdialog</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-e</b>  [*] show an error box
<b>-f</b>  [*] show a fatal error box
<b>-i</b>  [*] input box, <i>var</i> contains default text on call
<b>-l</b>  [*] launch progress box, return dbus ref
<b>-p</b>  [*] show a password entry box
<b>-u</b>  [*] popup notification window
<b>-k</b>  [*] dialog box of type <i>kind</i> (no text preprocessing)
<b>-w</b>  [*] show a warning box</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>-n</b>  add an icon
<b>-r</b>  show real name (see <b>--embed</b> option)
<b>-t</b>  window title (prefixed with <b>CEN_NAME</b>)
-2  show two message box buttons
-3  show three message box buttons</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>[*] These options are mutually exclusive</div>
</div>
<div class='def-row'>
<div class='def-label'>Arguments:</div>
<div class='def-text'><i>kind</i>     a <b>kdialog</b> box type (without <b>--</b>)
<i>label</i>    button labels, left to right
<i>time</i>     time in [s] to display the popup window
<i>icon</i>     icon for popup
<i>title</i>    window title (not fully supported by <b>kdialog</b>)
<i>var</i>      sets input variable (for <b>&quot;-&quot;</b> <b>CEN_CONFIRM</b> is used)
<i>header</i>   header text for message -or- empty, show as bold
<i>msg</i>...   body text for message</div>
</div>
<div class='def-row'>
<div class='def-label'>Return:</div>
<div class='def-text'><b>0</b> = OK|Yes  <b>1</b> = No  <b>2</b> = Cancel.
<b>CEN_CONFIRM</b> receives any input if <i>var</i> is set to - or if <b>-k</b> is used.</div>
</div>
<div class='def-row'>
<div class='def-label'>Examples:</div>
<div class='def-text'><pre><b>windialog</b> <b>-u</b> 3 <b>-n</b> face-angry <b>&quot;My Message is:&quot;</b> <b>&quot;It&apos;s raining today&quot;</b>
<b>windialog</b> <b>-k</b> getsavefilename . <b>&quot;GPX files (*.gpx);;All files (*.*)&quot;</b></pre></div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This function is a wrapper for <b>kdialog</b> and is used by <b>_centauri_bash_lib</b> for <b>ALL</b> GUI messages and dialogs. Currently only KDE&apos;s minimalistic <b>kdialog</b> is supported.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Some special chars like <b>&lt;</b>, <b>&gt;</b>, <b>&amp;</b>, &lt;tab&gt; and &lt;lf&gt; are HTML-escaped before being passed to <b>kdialog</b>.  But <b>printf</b> escape sequences (like <b>\n</b>) are NOT interpreted!</div>
</div>
</section>
</article>
<div class='def-break'></div>
<nav><div class='nav-row'>
<div class='nav-left'><a href='_centauri_bash_web.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='#top'>[Top of Page]</a></div>
<div class='nav-mid'><a href='reference.html#top'>[Reference]</a></div>
<div class='nav-right'><a href='_centauri_bash_xml.html'>[next &gt;&gt;]</a></div>
</div></nav>
</body></html>
