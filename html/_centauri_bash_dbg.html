<!DOCTYPE html>
<html><head><meta charset='UTF-8'></meta>
<title>centaurihelp ─ _centauri_bash_dbg</title>
<link rel='stylesheet' type='text/css' href='default.css'></link>
<script type='text/javascript' src='default.js'></script>
</head><body><article id='top'>
<nav><div class='nav-row'>
<div class='nav-left'><a href='_centauri_bash_con.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='content.html#top'>[Content]</a></div>
<div class='nav-mid'><a href='reference.html#top'>[Reference]</a></div>
<div class='nav-right'><a href='_centauri_bash_doc.html'>[next &gt;&gt;]</a></div>
</div></nav>
<section id='section-1'>
<div id='_centauri_bash_dbg' class='item-module'>
<span>Module</span><span> - </span><span>_centauri_bash_dbg</span><span> - </span><span><a href="index.html">Centauri Bash Library</a> Debug Support and Documentation</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>. <b>_centauri_bash_dbg</b> [<b>-n</b>] [<b>-a</b>] [<b>-m</b>] [<b>-o</b>] [<b>-q</b>]</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-n</b>  no debug output (module does nothing)
<b>-a</b>  trace actions()
<b>-m</b>  trace main() until option parsing
<b>-o</b>  trace options()
<b>-q</b>  trace quit()</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This module provides the <a href="#debug">debug()</a> function to control debug output and for debug instrumentation. It adds debug support for <a href="_centauri_bash_lib.html#main">main()</a>, <a href="#optionsuser">options()</a>, <a href="#actionsuser">actions()</a> and <a href="_centauri_bash_lib.html#quit">quit()</a>. By explicitly loading the module and passing the module options via  <a href="_centauri_bash_lib.html#embed">embed()</a>, tracing the above mentioned functions is enbaled. Always the invokation of these functions will be reported. At program termination the list of loaded modules is printed.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>When loaded via library option <b>&quot;-m dbg&quot;</b> or for dynamic loading the <a href="#debug">debug()</a> function is used to control reporting and tracing.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><b>&quot;CEN_DEBUG=debug&quot;</b> is set whenever the module is loaded. This allows debug instrumentation that causes little overhead when the module is not loaded:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>$<b>CEN_DEBUG</b> <b>-c</b> <b>--</b> <b>&quot;$*&quot;</b>       # can be 1st statement of a function
$<b>CEN_DEBUG</b> text myarray     # dump variables</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><pre>$<b>CEN_DEBUG</b> <b>-t</b> on            # start &quot;set -x&quot; tracing
$<b>CEN_DEBUG</b> <b>-t</b> off           # stop tracing</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>When the debug module is loaded explicitly before calling <a href="_centauri_bash_lib.html#main">main()</a> the command line option <b>--debug</b> is added. This option controls the output of the debug instrumentation. When the module is (auto-)loaded implicitly <b>&quot;--debug=7&quot;</b> is the default.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The module also contains some documentation for the user callbacks made by <a href="_centauri_bash_lib.html#main">main()</a>:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  <a href="#optionsuser">options()</a>  -  option parsing
  <a href="#actionsuser">actions()</a>  -  verb dispatching
  <a href="#runuser">run()</a>      -  non-verb script execution</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Copyright Dr. J. Pfennig (c) 2017-2022</div>
</div>
</section>
<section id='section-2'>
<div id='help' class='item-topic'>
<span>Topic</span><span> - </span><span>Help</span><span> - </span><span>How to get the <a href="index.html">Centauri Bash Library</a> Documentation</span></div>
<div class='def-row'>
<div class='def-label'>General:</div>
<div class='def-block'>The library code contains documentation comments that can be formatted using the <a href="centaurihelp.html">centaurihelp</a> tool. This tool can also generate an HTML tree. It uses caching to allow fast command-line searches. All tools using the library get a <b>--help</b> option that can show usage information. Again <a href="centaurihelp.html">centaurihelp</a> can be used to generate HTML for tools or to pretty-print command-line output.</div>
</div>
<div class='def-row'>
<div class='def-label'>Aliases:</div>
<div class='def-block'>For command line use it is recommended to define two aliases by adding the following lines to your ~/.profile :</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>_clh_helper() { [ $# = 0 ] &amp;&amp; set <b>--</b> help ; centaurihelp <b>--library</b> <b>&quot;$@&quot;</b> ; }
alias clh=_clh_helper
_clt_helper() { [ $# = 0 ] &amp;&amp; set <b>--</b> help ; centaurihelp <b>--tools</b> <b>&quot;$@&quot;</b> ; }
alias clt=_clt_helper</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  • <b>clh</b>  (short for <b>centaurihelp --library</b>) searches the library documentation
  • <b>clt</b>  (short for <b>centaurihelp --tools</b>) does the same for tools</div>
</div>
<div class='def-row'>
<div class='def-label'>HTML:</div>
<div class='def-block'>By default HTML documentation is generated into $<b>CEN_ROOT</b>/html by using <a href="centaurihelp.html">centaurihelp</a>. To export the data with a Web server you will typically create a symbolic link:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>ln <b>-s</b> $<b>CEN_ROOT</b>/html /var/www/html/centauri-bash-lib
centaurihelp <b>--delete</b> <b>--generate</b>=all</pre></div>
</div>
<div class='def-row'>
<div class='def-label'>Examples:</div>
<div class='def-text'><pre>centaurihelp <b>-M</b> <b>-C</b> <b>-R</b>           # list modules, content and reference
centaurihelp <b>-T</b>                 # list tools
centaurihelp <b>-i</b> ext             # output _centauri_bash_ext documentation
centaurihelp sys txt            # show everthing matching &apos;sys&apos; or &apos;txt&apos;
centaurihelp - sys              # show functions matching &apos;sys&apos;
centaurihelp + sys              # show topics matching &apos;sys&apos;
centaurihelp = dbg              # show module documentation of &apos;dbg&apos;</pre></div>
</div>
</section>
<section id='section-3'>
<div id='introduction' class='item-topic'>
<span>Topic</span><span> - </span><span>Introduction</span><span> - </span><span>How to use the <a href="index.html">Centauri Bash Library</a> in a Script</span></div>
<div class='def-row'>
<div class='def-label'>General:</div>
<div class='def-block'>The library was built to simplify bash scripting and provides command line parsing (<b>options</b>, <b>verbs</b> and <b>arguments</b>), reporting, debugging and helper functions.</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>• A bash script typically loads <b>_centauri_bash_lib</b>, and calls <a href="_centauri_bash_lib.html#main">main()</a>. The script optionally provides routines like <a href="#optionsuser">options()</a>, <a href="#actionsuser">actions()</a>, <a href="#runuser">run()</a> and <a href="_centauri_bash_use.html#usageuser">usage()</a> to implement the required functionality.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>• The library is split into modules that can be loaded dynamically.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>• There is support for localization (l10n) using the GNU gettext tools.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>• A script can define multiple command <b>verbs</b> to invoke an <b>action</b> subroutine for each <b>verb</b> and its <b>arguments</b>. When no <b>verbs</b> are used, all non-option arguments are passed to a user defined <a href="#runuser">run()</a> subroutine.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>• Usually each <b>verb</b> has its own user defined <b>action</b> subroutine. The <b>verbs</b> and their <b>action</b> subroutines must be registered in a function named <a href="#actionsuser">actions()</a>. Otherwise <a href="_centauri_bash_lib.html#main">main()</a> will simply call <a href="#runuser">run()</a> with all <b>arguments</b>.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>• There are some predefined <b>options</b>. But a script may add any number of custom <b>options</b>. Short and long <b>option</b> names can be used and <b>options</b> can have an option-argument. Argument values can be checked automatically.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>• The library should not be loaded directly from its installation folder. Instead an proxy should be used, see <a href="_centauri_bash_ins.html#libraryproxy">library proxy</a>.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>See <a href="_centauri_bash_doc.html">_centauri_bash_doc</a> for more details on how to use the library.</div>
</div>
</section>
<section id='section-4'>
<div id='userscript' class='item-topic'>
<span>Topic</span><span> - </span><span>User Script</span><span> - </span><span>Writing a script using the <a href="index.html">Centauri Bash Library</a></span></div>
<div class='def-row'>
<div class='def-label'>Templates:</div>
<div class='def-block'>Under <b>&quot;$CEN_ROOT/tools/templates&quot;</b> a couple of templates are provided as examples and to provide starting-points for own developments:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  centauriAction   - Template using command line verbs (action syntax)
  centauriCgiforms - Demonstrates CGI programming using the XML module
  centauriDaemon   - Example daemon or service
  centauriFiles    - Template for a file processor (no action syntax)
  centauriHello    - A Hello World Example
  centauriRun      - Template for simple scripts (no action syntax)
  centauriService  - Example oneshot service
  centauriSimple   - Using centauri-bash-lib without main() function</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The <b>centauricreate</b> tool should be used to generate a user side script. To create <b>&quot;my-hello-world&quot;</b> from template centauriHello just type:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>&gt; <b>centauricreate</b> <b>--template</b>=hello my-hello-world</div>
</div>
<div class='def-row'>
<div class='def-label'>Examples:</div>
<div class='def-text'><b>(1) execution without main() does not parse the command line</b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>#!/bin/bash
PATH+=<b>&quot;:${0%/*}&quot;</b> . _centauri_bash_lib <b>-m</b> iom <b>&quot;$0&quot;</b> <b>&quot;0.00:1&quot;</b> || exit 2

message <b>&quot;Arguments and Options:&quot;</b> <b>&quot;$*&quot;</b>
inpfile <b>--</b> <b>&quot;${1:-+}&quot;</b>

quit <b>&quot;File: $CEN_INPFILE&quot;</b></pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>(2) using non-verb script execution</b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>#!/bin/bash
<b>CEN_LEGAL</b>=<b>&quot;Copyright Dr. J. Pfennig (c) 2007-2019; BSD License&quot;</b>
<b>CEN_TITLE</b>=<b>&quot;Example of a simple script (no action syntax)&quot;</b>
PATH+=<b>&quot;:${0%/*}&quot;</b> . _centauri_bash_lib <b>-r</b> <b>&quot;$0&quot;</b> <b>&quot;0.00:1&quot;</b> || exit 2

run() {
    message <b>&quot;Hello World&quot;</b>
}

main <b>&quot;$@&quot;</b> ; quit</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>(3) using verb dispatching</b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>#!/bin/bash
<b>CEN_LEGAL</b>=<b>&quot;Copyright Dr. J. Pfennig (c) 2007-2019; BSD License&quot;</b>
<b>CEN_TITLE</b>=<b>&quot;Example of a script using command line verbs&quot;</b>
PATH+=<b>&quot;:${0%/*}&quot;</b> . _centauri_bash_lib <b>-r</b> <b>&quot;$0&quot;</b> <b>&quot;0.00:1&quot;</b> || exit 2

actionOne() {
    message <b>&quot;One:&quot;</b> <b>&quot;$*&quot;</b>
}

actionTwo() {
    message <b>&quot;Two:&quot;</b> <b>&quot;$*&quot;</b>
}

actions() {
    case <b>&quot;$1&quot;</b> in
        one)   invoke - - 2   ;;  # actions wants 2 args
        two)   invoke - - 1 2 ;;  # actions wants 1 or 2 args
    esac
}

main <b>&quot;$@&quot;</b> ; quit</pre></div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>The variables <b>CEN_TITLE</b> and <b>CEN_LEGAL</b> are used by the <b>--info</b> and <b>--help</b> command line options and should always be defined by a script.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>All examples specified a script version (here <b>&quot;0.00&quot;</b>) and a minimum API version (here <b>&quot;1&quot;</b>). See <a href="_centauri_bash_doc.html#versioning">versioning</a> for more information about version checking.</div>
</div>
</section>
<section id='section-5'>
<div id='optionsuser' class='item-function'>
<span>Function</span><span> - </span><span>options (user)</span><span> - </span><span>User defined Option Parsing</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>options <i>option</i> <i>arg</i>...</div>
</div>
<div class='def-row'>
<div class='def-label'>Example:</div>
<div class='def-text'><pre>options() {
    case <b>&quot;$1&quot;</b> in

    # this is called after the last options was processed
    <b>&quot;&quot;</b>)
        [ <b>-n</b> <b>&quot;$CEN_OPT_EXTRA&quot;</b> <b>-a</b> <b>-n</b> <b>&quot;$CEN_OPT_CHOICE&quot;</b> ] &amp;&amp;
            error <b>&quot;Mutually exclusive options: --extra and --choice&quot;</b>
        ;;

    <b>-A</b>|<b>--arr</b>*)
        optarg <b>&quot;array&quot;</b>      []  <b>-t</b> ;;           # an array of text
    <b>-C</b>|<b>--cho</b>*)
        optarg <b>&quot;choice&quot;</b>     -   <b>&quot;left|right&quot;</b> ;; # regular expression
    <b>-N</b>|<b>--number</b>)
        optarg <b>&quot;number&quot;</b>     -   <b>-n</b> ;;           # a number
    <b>-R</b>|<b>--rec</b>*)
        optarg <b>&quot;recurse&quot;</b>    -   ;;              # a simple flag
    <b>-X</b>|<b>--extra</b>)
        optarg <b>&quot;extra&quot;</b>      -   <b>-t</b> ;;           # any text
    esac
}</pre></div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This function is optional, but if missing <a href="_centauri_bash_lib.html#main">main()</a> creates an empty dummy instance of it. Before invoking options(), <b>CEN_ACTION</b> is set to the option name.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>An option name longer than three characters should be abbreviated. Short options should be uppercase.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Checking options arguments and setting a variable is left to <a href="_centauri_bash_lib.html#optarg">optarg()</a>.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The <a href="#debug">debug</a> module will parse the source code of options() in order to handle bash input completion. For this reason there <b>must</b> be a case statement containing calls to <a href="_centauri_bash_lib.html#optarg">optarg()</a>.</div>
</div>
</section>
<section id='section-6'>
<div id='actionsuser' class='item-function'>
<span>Function</span><span> - </span><span>actions (user)</span><span> - </span><span>User defined Verb Dispatcher</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>actions <i>verb</i> <i>arg</i>...</div>
</div>
<div class='def-row'>
<div class='def-label'>Examples:</div>
<div class='def-block'>An example with three explicit actions. The third action handler is also invoked when something looking like a file name is seen:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>actions() {
    case <b>&quot;$1&quot;</b> in

    # this is called before the 1st verb gets dispatched
    <b>&quot;&quot;</b>)
        trace <b>-a</b> <b>&quot;Options  : ${CEN_CMDOPTS[@]}&quot;</b>
        trace <b>-a</b> <b>&quot;Arguments: ${CEN_CMDARGS[@]}&quot;</b> ;;  # before 1st action

    one|fir*)
        invoke <b>&quot;one&quot;</b>    -           1 ;;            # one arg
    two)
        invoke -        -           1 3 ;;          # 1..3 args
    wal|walk)
        invoke <b>&quot;walk&quot;</b>   actionWalk  1 + ;;          # more than one arg

    */*|.*|*.*)
        invoke <b>&quot;&lt;file&gt;&quot;</b> actionWalk  - - <b>&quot;$@&quot;</b>        # implied action
    esac
}</pre></div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This function is required to dispatch verbs. If missing, <a href="_centauri_bash_lib.html#main">main()</a> will call <a href="#runuser">run()</a> instead. Either <a href="#runuser">run()</a> or <a href="#actionsuser">actions()</a> must be supplied by the user script.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Checking the number of arguments and invoking the action handler can be handled by <a href="_centauri_bash_lib.html#invoke">invoke()</a>. Before action() gets called, <b>CEN_ACTION</b> is set to the verb (e.g. the 1st argument). This is why invoke() can find the name of the action handler. An action name longer than four characters should be abbreviated. Action may have alias names (here: <b>one</b> and <b>first</b>).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The example script <b>centauriTemplate</b> is a good starting point for writing <b>verb</b> based scripts.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>The <a href="#debug">debug</a> module will parse the source code of actions() in order to handle bash input completion. For this reason there <b>must</b> be a case statement containing calls to <a href="_centauri_bash_lib.html#invoke">invoke()</a>.</div>
</div>
</section>
<section id='section-7'>
<div id='runuser' class='item-function'>
<span>Function</span><span> - </span><span>run (user)</span><span> - </span><span>User defined Function for non-Action Scripts</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>run <i>arg</i>...</div>
</div>
<div class='def-row'>
<div class='def-label'>Arguments:</div>
<div class='def-text'><i>arg</i>...  Arguments passed to <a href="_centauri_bash_lib.html#main">main()</a> with options removed</div>
</div>
<div class='def-row'>
<div class='def-label'>Remarks:</div>
<div class='def-block'>This function must be defined for non-verb scripts and is called by <a href="_centauri_bash_lib.html#main">main()</a> after option parsing. The return value is ignored, see <a href="_centauri_bash_lib.html#error">error()</a>.</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><a href="_centauri_bash_lib.html#main">main()</a> calls run() if _centauri_bash_lib is loaded with the <b>-r</b> option. The <b>-r</b> feature option is implied if <a href="#actionsuser">actions()</a> is not defined. <a href="#runuser">run()</a> and <a href="#actionsuser">actions()</a> should not be defined at the same time (expect in a service).</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>When loading <a href="_centauri_bash_lib.html">_centauri_bash_lib</a> the extra arguments <i>amin</i> and <i>amax</i> can be specified. Non-zero values override the allowed minimum and maximum command-line argument count: <b>CEN_RUN_MIN_ARGS</b> or <b>CEN_RUN_MAX_ARGS</b>. <i>amin</i> can be a number or have the following special values:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  <b>0</b>   don&apos;t show help info when no args are given
  <b>-</b>   show help with no args (default for feature option &apos;<b>-r</b>&apos;)</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'><i>amax</i> can be a number or have the following special value:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>  <b>+</b>   no upper limit for args (default)</div>
</div>
</section>
<section id='section-8'>
<div id='debug' class='item-function'>
<span>Function</span><span> - </span><span>debug</span><span> - </span><span>control tracing and generate debug output</span></div>
<div class='def-row'>
<div class='def-label'>Call:</div>
<div class='def-text'>(1) <b>debug</b> [<b>-a</b>] [<b>-m</b>] [<b>-p</b>] [<b>-q</b>] [<b>-n</b>] ...  # set trace options
(2) <b>debug</b> ... [<b>-i</b>] <i>text</i>|<i>variable</i>        # dump output
(3) <b>debug</b> ... <b>-c</b>|<b>-f</b> <b>--</b> <i>text</i>...          # call tracing
(4) <b>debug</b> <b>-t</b> on|off                     # bash trace on/off</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-block'>Form (1) supports the same options that can be used at module load. Form (2) generates variable dump output. Using form (3) as the 1st statement of functions allows call tracing and function execution tracing via command line <b>--debug</b>. Form (4) should be used to control bash tracing (instead of <b>&quot;set -x&quot;</b> and <b>&quot;set +x&quot;</b>).</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-a</b>  <b>&quot;set -x&quot;</b> trace of actions()
<b>-m</b>  <b>&quot;set -x&quot;</b> trace of main() until option parsing
<b>-o</b>  <b>&quot;set -x&quot;</b> trace of options()
<b>-q</b>  <b>&quot;set -x&quot;</b> trace of quit()</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>-l</b>  set a logfile
<b>-n</b>  do nothing if seen in option list (kill switch)</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>-c</b>  report function call
<b>-f</b>  start function trace (only one at a time)
<b>-i</b>  indent dump output
<b>-r</b>  register (used internally on module load)
<b>-t</b>  turn bash trace on/off (replaces <b>&quot;set -x&quot;</b> or <b>&quot;set +x&quot;</b>)</div>
</div>
<div class='def-row'>
<div class='def-label'>Bitmask:</div>
<div class='def-text'>The <b>--debug</b> option (or <b>CEN_OPT_DEBUG</b>) use a bitmask to control the
output of <b>debug</b>:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>      Bit 1: enable module reporting (main, quit, actions, options)
      Bit 2: enable function call reporting and variable dumps
      Bit 4: enable tracing</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>When <a href="_centauri_bash_dbg.html">_centauri_bash_dbg</a> is loaded dynamically, <b>&quot;CEN_OPT_DEBUG=7&quot;</b>
is the default.</div>
</div>
<div class='def-row'>
<div class='def-label'>Examples:</div>
<div class='def-text'><b>generate debug output (enabled with CEN_OPT_DEBUG=2)</b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>local array=(one two tree)
<b>debug</b> <b>&quot;This is some output...&quot;</b>
<b>debug</b> <b>-i</b> <b>&quot;data&quot;</b> array <b>&quot;folder&quot;</b> PWD</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>using CEN_DEBUG </b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>$<b>CEN_DEBUG</b> <b>debug</b> <b>&quot;hello:&quot;</b> my_name</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>function tracing</b></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>my1function() {
    $<b>CEN_DEBUG</b> <b>-c</b> <b>--</b> <b>&quot;$*&quot;</b>       # report the function call
    ...
}</pre></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><pre>my2function() {
    $<b>CEN_DEBUG</b> <b>-f</b> <b>--</b> <b>&quot;$*&quot;</b>       # trace this function call
    ...
}</pre></div>
</div>
</section>
</article>
<div class='def-break'></div>
<nav><div class='nav-row'>
<div class='nav-left'><a href='_centauri_bash_con.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='#top'>[Top of Page]</a></div>
<div class='nav-mid'><a href='reference.html#top'>[Reference]</a></div>
<div class='nav-right'><a href='_centauri_bash_doc.html'>[next &gt;&gt;]</a></div>
</div></nav>
</body></html>
