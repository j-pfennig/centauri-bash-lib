<!DOCTYPE html>
<html><head><meta charset='UTF-8'></meta>
<title>centaurihelp â”€ l10n-tool</title>
<link rel='stylesheet' type='text/css' href='default.css'></link>
<script type='text/javascript' src='default.js'></script>
</head><body onload='initialize("l10n-tool")'><article id='top'>
<nav><div class='nav-row'>
<div class='nav-left'><a href='uglify.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='index.html#top'>[Library]</a></div>
<div class='nav-mid'><a href='tools.html#top'>[Tools]</a></div>
<div class='nav-right'></div>
</div></nav>
<section id='section-1'>
<div id='l10n-tool' class='item-script'>
<span>Script</span><span> - </span><span>l10n-tool</span><span> - </span><span>Helper to manage script translations</span></div>
<div class='def-row'>
<div class='def-label'>Usage:</div>
<div class='def-text'><b>l10n-tool</b> <i>option</i>... [<i>action</i> <i>argument</i>... [<b>--</b>]]...</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>Helper to manage script translations.</div>
</div>
<div class='def-row'>
<div class='def-label'>Options:</div>
<div class='def-text'><b>-d</b> <b>--dryrun</b>          show what would be done, make no changes
<b>-f</b> <b>--force</b>           override prudent default behaviours
<b>-h</b> <b>--help</b>            show this text
<b>-n</b> <b>--no</b>              do not prompt for confirmation, assume &apos;no&apos;
<b>-q</b> <b>--quiet</b>           report errors only
<b>-v</b> <b>--verbose</b>         be verbose (use twice for debug)
<b>-y</b> <b>--yes</b>             do not prompt for confirmation, assume &apos;yes&apos;
<b>-z</b> <b>--zombie</b>          next action(s) even after error</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>-I</b> <b>--input</b>   <i>fldr</i>    add path to list of source folders (repeatable)
<b>-O</b> <b>--output</b>  <i>fldr</i>    specify output path for generated files</div>
</div>
<div class='def-row'>
<div class='def-label'>Actions:</div>
<div class='def-text'>country <i>country</i>      initialize a country folder</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>prepare <i>name</i>         prepare an initial message file
dump    <i>name</i>         update an existing message file
build   <i>name</i>         update the locale file (after dump or prepare)
update               update existing message files, give status info</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>join    <i>name</i>...      join multiple message files into a single .mo file</div>
</div>
<div class='def-row'>
<div class='def-label'>Arguments:</div>
<div class='def-text'><i>country</i>              2-letter country name like de, fr, ...
<i>dest</i>                 destination file path
<i>fldr</i>                 folder path
<i>name</i>                 name of a tool or module script</div>
</div>
<div class='def-row'>
<div class='def-label'>Workflow:</div>
<div class='def-text'>All message table sources (*.po files) and the generated binaries (*.mo) are
contained in per-country folders. Use this command to create them:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>    $ $<b>CEN_ROOT</b>/locale/l10n-tool country <i>country</i></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'><b>l10n-tool</b> uses <b>&quot;bash --dump-po-strings&quot;</b> and the GNU gettext-tools to localize
scripts. The process of translating a script is initialized via:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>    $ cd $<b>CEN_ROOT</b>/locale/<i>country</i>
    $ ./l10n-tool prepare <i>name</i>
    $ edit <i>name</i>.po
    $ ./l10n-tool build <i>name</i></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>After script source changes the procedure to update the translations is:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>    $ cd $<b>CEN_ROOT</b>/locale/<i>country</i>
    $ ./l10n-tool dump <i>name</i>
    $ edit <i>name</i>.po
    $ ./l10n-tool build <i>name</i></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>A more convinient update method is to run <b>&quot;l10n-tool update&quot;</b> a 1st time, then
edit the translations and run <b>&quot;l10n-tool update&quot;</b> a 2nd time.</div>
</div>
<div class='def-row'>
<div class='def-label'>Timestamps:</div>
<div class='def-text'>Unless option <b>--force</b> is used, the tool only acts on updates. The <b>build</b> and
<b>update</b> actions set the timestamps of the scripts and their .po file to the
time of the resulting .mo file. If the .mo file for one language is updated,
the correnponding .mo file timestamps for other languages are also set.</div>
</div>
<div class='def-row'>
<div class='def-label'>External:</div>
<div class='def-text'>To localize scripts that are not part of $<b>CEN_ROOT</b>, option <b>--input</b> and
<b>--output</b> should be used. While <b>--input</b> adds folders to the script search list,
<b>--output</b> sets the destination locale folder; no timestamp updates are done:</div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>    $ cd $<b>CEN_ROOT</b>/locale/<i>country</i>
    $ ./l10n-tool country <i>country</i> <b>--output</b>=<i>fldr</i>
    $ ./l10n-tool prep <i>name</i> <b>--input</b>=<i>fldr</i> <b>--output</b>=<i>fldr</i>/locale/<i>country</i></div>
</div>
<div class='def-break'></div>
<div class='def-row'>
<div class='def-empty'></div>
<div class='def-text'>    $ cd $<b>CEN_ROOT</b>/locale/<i>country</i>
    $ ./l10n-tool dump <i>name</i> <b>--input</b>=<i>fldr</i> <b>--output</b>=<i>fldr</i>/locale/<i>country</i>
    $ edit <i>fldr</i>/<i>name</i>.po
    $ ./l10n-tool join <i>name</i>... <b>--input</b>=<i>fldr</i> <b>--out</b>=<i>fldr</i>/locale/<i>country</i></div>
</div>
</section>
</article>
<div class='def-break'></div>
<nav><div class='nav-row'>
<div class='nav-left'><a href='uglify.html'>[&lt;&lt; previous]</a></div>
<div class='nav-mid'><a href='#top'>[Top of Page]</a></div>
<div class='nav-mid'><a href='tools.html#top'>[Tools]</a></div>
<div class='nav-right'></div>
</div></nav>
</body></html>
